# UXFD 合并计划 - 关键问题总结

## 一、计划清晰度评估

### 技术层面 ✅
- **架构设计**：TSPN_UXFD 设计合理，很好地平衡了兼容性和扩展性
- **技术路径**：OperatorRegistry → LayoutSpec/Adapter → HookStore → explain_factory 链条清晰
- **配置映射**：paper_id → operator_graph 策略设计周全

### 管理层面 ⚠️
- **时间规划**：缺失，需要补充每个 PR 的预计工期
- **资源分配**：未明确，需要人力安排
- **依赖关系**：PR 间的硬依赖和软依赖需要明确
- **回滚策略**：需要更具体的回滚方案

## 二、实施建议

### 1. 立即行动项
- [ ] 制定每个 PR 的详细时间表
- [ ] 明确回滚命令和流程
- [ ] 细化验收标准（期望输出、性能基准）

### 2. 技术实施细节
- [ ] 明确 OperatorRegistry 的命名规范（是否使用 E_/B_/H_ 前缀）
- [ ] 完善 2D 分支的实现细节（路线 A/B 切换机制）
- [ ] 定义 metadata schema 的具体字段

### 3. Submodule 管理策略
- [ ] 确定 submodule 版本管理策略（tag vs commit hash）
- [ ] 制定 submodule 更新流程
- [ ] 配置 CI/CD 处理 submodule

## 三、风险重点关注

| 风险项 | 影响等级 | 缓解措施 |
|--------|----------|----------|
| 布局不一致 | 高 | 强制 LayoutSpec，自动插入 Adapter |
| 依赖污染 | 中 | 可选导入 + 可审计降级 |
| 解释模块接入 | 中 | ExplainReady 门控 + 统一 HookStore |
| 配置漂移 | 中 | paper_id 映射 + 版本化管理 |

## 四、下一步行动计划

### Phase 1: 准备阶段（PR0）
1. 创建目录结构
2. 添加第一个 submodule 作为示例
3. 验证不影响主仓库功能

### Phase 2: 核心实现（PR1-PR3）
1. 实现 TSPN_UXFD 骨架
2. 添加配置映射机制
3. 集成 explain_factory

### Phase 3: 闭环完善（PR4-PR5）
1. 实现结果收集和报告
2. 添加 agent_factory 的 TODO 落盘功能

## 五、成功标准

- [ ] 7 篇 paper 都能通过 `python main.py --config` 运行
- [ ] 解释模块能正确读取 metadata 并生成可审计输出
- [ ] 主仓库测试不依赖 submodule 初始化
- [ ] 所有配置可追溯（值来源、消费位置）

## 六、遗留问题

1. **2D 融合路线选择**：是先做解释分支（路线 A）还是直接做融合主链路（路线 B）？
2. **LLM 集成时机**：agent_factory 何时接入实际 LLM 调用？
3. **性能基准**：是否需要为每个 paper 设定性能基准值？
4. **文档维护**：VIBENCH.md 文档由谁维护？更新频率？

---
*生成时间：2025-01-21*
*评估者：Claude Opus 4.5*